<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>SmartShield Alerts</title>
</head>
<body>
<h2>π¨ μ‹¤μ‹κ°„ μ„ν— μ•λ¦Ό μ¤νΈλ¦Ό</h2>
<div id="alerts"></div>

<script>
    const es = new EventSource("http://localhost:8080/api/alerts/stream");

    es.addEventListener("alert", (event) => {
        const data = JSON.parse(event.data);
        const div = document.getElementById("alerts");
        const msg = document.createElement("p");
        msg.textContent = `[${data.danger_level}] ${data.detected_class} (${data.camera_id})`;
        div.prepend(msg);
    });

    es.onerror = (err) => {
        console.error("SSE μ—°κ²° μ—λ¬:", err);
    };
</script>
</body>
</html>
